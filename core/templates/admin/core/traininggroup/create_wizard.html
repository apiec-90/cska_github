{% extends "admin/base_site.html" %}
{% block extrastyle %}
<style>
  .wizard-container {
    max-width: 800px;
    margin: 20px auto;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  .wizard-header {
    background: linear-gradient(135deg, #4CAF50, #45a049);
    color: white;
    padding: 20px;
    text-align: center;
  }
  .wizard-steps {
    display: flex;
    background: #f8f9fa;
    border-bottom: 1px solid #dee2e6;
  }
  .step {
    flex: 1;
    padding: 15px;
    text-align: center;
    border-right: 1px solid #dee2e6;
    position: relative;
  }
  .step:last-child { border-right: none; }
  .step.active {
    background: #4CAF50;
    color: white;
    font-weight: bold;
  }
  .step.completed {
    background: #28a745;
    color: white;
  }
  .wizard-content {
    padding: 30px;
  }
  .form-group {
    margin-bottom: 20px;
  }
  .form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 600;
    color: #333;
  }
  .form-group input, .form-group select {
    width: 100%;
    padding: 10px;
    border: 2px solid #e9ecef;
    border-radius: 5px;
    font-size: 14px;
    transition: border-color 0.3s;
  }
  .form-group input:focus, .form-group select:focus {
    outline: none;
    border-color: #4CAF50;
  }
  .required { color: #e74c3c; }
  .wizard-actions {
    padding: 20px 30px;
    background: #f8f9fa;
    border-top: 1px solid #dee2e6;
    text-align: right;
  }
  .btn {
    padding: 10px 20px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 14px;
    margin-left: 10px;
    transition: all 0.3s;
  }
  .btn-primary {
    background: #4CAF50;
    color: white;
  }
  .btn-primary:hover {
    background: #45a049;
  }
  .btn-secondary {
    background: #6c757d;
    color: white;
  }
  .form-row {
    display: flex;
    gap: 15px;
  }
  .form-row .form-group {
    flex: 1;
  }
</style>
{% endblock %}

{% block content %}
<div class="wizard-container">
  <div class="wizard-header">
    <h1>üèÉ‚Äç‚ôÇÔ∏è –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–π –≥—Ä—É–ø–ø—ã</h1>
    <p>–ü–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã</p>
  </div>
  
  <div class="wizard-steps">
    <div class="step active">
      <strong>–®–∞–≥ 1</strong><br>
      <small>–î–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã</small>
    </div>
    <div class="step">
      <strong>–®–∞–≥ 2</strong><br>
      <small>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</small>
    </div>
  </div>
  
  <div class="wizard-content">
    <h2>üìù –û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã</h2>
    <p>–í–≤–µ–¥–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–π –≥—Ä—É–ø–ø–µ</p>
    
    <form method="post" id="wizard-form">
      {% csrf_token %}
      
      <div class="form-group">
        <label for="name">–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã <span class="required">*</span></label>
        <input type="text" id="name" name="name" required 
               value="{{ form_data.name|default:'' }}"
               placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –ú–ª–∞–¥—à–∞—è –≥—Ä—É–ø–ø–∞ 6-8 –ª–µ—Ç">
      </div>
      
      <div class="form-group">
        <label for="trainer">–¢—Ä–µ–Ω–µ—Ä</label>
        <select id="trainer" name="trainer">
          <option value="">-- –í—ã–±–µ—Ä–∏—Ç–µ —Ç—Ä–µ–Ω–µ—Ä–∞ --</option>
          {% for trainer in trainers %}
            <option value="{{ trainer.id }}" 
                    {% if form_data.trainer_id == trainer.id|stringformat:"s" %}selected{% endif %}>
              {{ trainer.user.last_name }} {{ trainer.user.first_name }}
            </option>
          {% endfor %}
        </select>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="age_min">–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç</label>
          <input type="number" id="age_min" name="age_min" min="3" max="18"
                 value="{{ form_data.age_min|default:'' }}" 
                 placeholder="6">
        </div>
        <div class="form-group">
          <label for="age_max">–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç</label>
          <input type="number" id="age_max" name="age_max" min="3" max="18"
                 value="{{ form_data.age_max|default:'' }}" 
                 placeholder="12">
        </div>
      </div>
      
      <div class="form-group">
        <label for="max_athletes">–ú–∞–∫—Å–∏–º—É–º —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤</label>
        <input type="number" id="max_athletes" name="max_athletes" min="1" max="50"
               value="{{ form_data.max_athletes|default:'20' }}" placeholder="20">
      </div>
      
      <div class="form-group">
        <label>
          <input type="checkbox" name="is_active" 
                 {% if form_data.is_active is None or form_data.is_active %}checked{% endif %}> 
          –ì—Ä—É–ø–ø–∞ –∞–∫—Ç–∏–≤–Ω–∞
        </label>
      </div>
    </form>
  </div>
  
  <div class="wizard-actions">
    <a href="{% url 'admin:core_traininggroup_changelist' %}" class="btn btn-secondary">
      –û—Ç–º–µ–Ω–∞
    </a>
    <input type="submit" class="btn btn-primary" value="–î–∞–ª–µ–µ: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ ‚Üí" form="wizard-form">
  </div>
</div>
{% endblock %}
