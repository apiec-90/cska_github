# üèóÔ∏è –ò–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥—Ä—É–ø–ø

## üìã –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–¥–µ–ª—è–µ—Ç –≥—Ä—É–ø–ø—ã –Ω–∞ –¥–≤–∞ —Ç–∏–ø–∞:
- **–ë–∞–∑–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã** (–±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π) - –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã** (—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏) - –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–º

## üéØ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥—Ä—É–ø–ø

### –ë–∞–∑–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã (–±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π)
```
‚úÖ –°–ø–æ—Ä—Ç—Å–º–µ–Ω—ã - –¥–ª—è –≤—Å–µ—Ö Athlete
‚úÖ –†–æ–¥–∏—Ç–µ–ª–∏ - –¥–ª—è –≤—Å–µ—Ö Parent  
‚úÖ –¢—Ä–µ–Ω–µ—Ä—ã - –¥–ª—è –≤—Å–µ—Ö Trainer
‚úÖ –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ - –¥–ª—è –≤—Å–µ—Ö Staff (–±–∞–∑–æ–≤–∞—è –≥—Ä—É–ø–ø–∞ –ë–ï–ó –¥–æ–ø—É—Å–∫–æ–≤)
```

### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã (—Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏)
```
‚úÖ –ú–µ–Ω–µ–¥–∂–µ—Ä—ã - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—é –¥–∞–Ω–Ω—ã–º–∏ (24 —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è)
‚úÖ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É (92 —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è)
‚úÖ –ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ã - –ø—Ä–æ—Å–º–æ—Ç—Ä + —Ä–∞–±–æ—Ç–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ (–≥–æ—Ç–æ–≤ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ)
```

## üîß –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
```bash
python manage.py setup_groups
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –≥—Ä—É–ø–ø—ã
```bash
python manage.py add_staff_group "–ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã" --subrole –∫–æ–¥_–ø–æ–¥—Ä–æ–ª–∏
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
```bash
python manage.py setup_permissions
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –≥—Ä—É–ø–ø
```bash
python manage.py list_groups
```

## üìù –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –≥—Ä—É–ø–ø

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
```bash
python manage.py add_staff_group "HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã" --subrole hr
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞ –≤ `core/utils.py`
```python
subrole_to_group = {
    'manager': '–ú–µ–Ω–µ–¥–∂–µ—Ä—ã',
    'admin': '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã',
    'accountant': '–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ã',
    'hr': 'HR-—Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã',  # ‚Üê –¥–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é –≥—Ä—É–ø–ø—É
}
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –≤ –∞–¥–º–∏–Ω–∫–µ
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Django Admin ‚Üí Groups
- –ù–∞–π–¥–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—É—é –≥—Ä—É–ø–ø—É
- –ù–∞–∑–Ω–∞—á—å—Ç–µ –Ω—É–∂–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è

## üéØ –õ–æ–≥–∏–∫–∞ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä—É–ø–ø

### –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```python
# –°–ø–æ—Ä—Ç—Å–º–µ–Ω ‚Üí —Ç–æ–ª—å–∫–æ "–°–ø–æ—Ä—Ç—Å–º–µ–Ω—ã"
# –†–æ–¥–∏—Ç–µ–ª—å ‚Üí —Ç–æ–ª—å–∫–æ "–†–æ–¥–∏—Ç–µ–ª–∏"  
# –¢—Ä–µ–Ω–µ—Ä ‚Üí —Ç–æ–ª—å–∫–æ "–¢—Ä–µ–Ω–µ—Ä—ã"
# Staff —Å role='manager' ‚Üí "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏" + "–ú–µ–Ω–µ–¥–∂–µ—Ä—ã"
# Staff —Å role='admin' ‚Üí "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏" + "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã"
# Staff —Å role='accountant' ‚Üí "–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏" + "–ë—É—Ö–≥–∞–ª—Ç–µ—Ä—ã"
```

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã

‚úÖ **–ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è** - —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –≤ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≥—Ä—É–ø–ø–∞—Ö  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–æ–ª–∏  
‚úÖ **–ß–µ—Ç–∫–æ—Å—Ç—å** - –±–∞–∑–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏  
‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –Ω–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö –≥—Ä—É–ø–ø  

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –≥—Ä—É–ø–ø—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:

```python
from core.utils import assign_groups_for_registration
from core.models import Staff

# –û–±–Ω–æ–≤–ª—è–µ–º –≤—Å–µ—Ö staff –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
for staff in Staff.objects.all():
    assign_groups_for_registration(staff.user, 'staff', staff.role)
```

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –æ—á–∏—â–µ–Ω—ã –æ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Å–æ–∑–¥–∞–Ω—ã —Å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è –≥—Ä—É–ø–ø —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≥—Ä—É–ø–ø–∞–º–∏ –≥–æ—Ç–æ–≤—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ









