{% extends "admin/base_site.html" %}
{% block extrastyle %}
<style>
  .schedule-container {
    max-width: 800px;
    margin: 20px auto;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    overflow: hidden;
  }
  .schedule-header {
    background: #4CAF50;
    color: white;
    padding: 20px;
  }
  .schedule-content {
    padding: 20px;
  }
  .schedule-table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
  }
  .schedule-table th,
  .schedule-table td {
    padding: 12px;
    border: 1px solid #ddd;
    text-align: left;
  }
  .schedule-table th {
    background: #f8f9fa;
    font-weight: bold;
  }
  .add-form {
    background: #f8f9fa;
    padding: 20px;
    border-radius: 8px;
    margin-top: 20px;
  }
  .form-row {
    display: flex;
    gap: 15px;
    align-items: end;
    flex-wrap: wrap;
  }
  .form-group {
    flex: 1;
    min-width: 150px;
  }
  .form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }
  .form-group select,
  .form-group input {
    width: 100%;
    padding: 8px;
    border: 1px solid #ddd;
    border-radius: 4px;
  }
  .btn {
    padding: 10px 20px;
    border: none;
    border-radius: 4px;
    font-weight: bold;
    text-decoration: none;
    cursor: pointer;
  }
  .btn-primary {
    background: #4CAF50;
    color: white;
  }
  .btn-danger {
    background: #f44336;
    color: white;
  }
  .btn-secondary {
    background: #6c757d;
    color: white;
  }
</style>
{% endblock %}

{% block content %}
<div class="schedule-container">
  <div class="schedule-header">
    <h1>üìÖ {{ title }}</h1>
    <p><a href="{% url 'admin:core_traininggroup_panel' object.pk %}" style="color: white;">‚Üê –ù–∞–∑–∞–¥ –∫ –≥—Ä—É–ø–ø–µ</a></p>
  </div>
  
  <div class="schedule-content">
    <h3>–¢–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:</h3>
    
    {% if schedules %}
    <table class="schedule-table">
      <thead>
        <tr>
          <th>–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏</th>
          <th>–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞</th>
          <th>–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è</th>
          <th>–î–µ–π—Å—Ç–≤–∏—è</th>
        </tr>
      </thead>
      <tbody>
        {% for schedule in schedules %}
        <tr>
          <td>{{ schedule.get_weekday_display }}</td>
          <td>{{ schedule.start_time }}</td>
          <td>{{ schedule.end_time }}</td>
          <td>
            <form method="post" style="display: inline;">
              {% csrf_token %}
              <input type="hidden" name="action" value="delete_schedule">
              <input type="hidden" name="schedule_id" value="{{ schedule.id }}">
              <button type="submit" class="btn btn-danger" onclick="return confirm('–£–¥–∞–ª–∏—Ç—å —ç—Ç–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ?')">–£–¥–∞–ª–∏—Ç—å</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    {% else %}
    <p>–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ.</p>
    {% endif %}
    
    <div class="add-form">
      <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ:</h3>
      <form method="post">
        {% csrf_token %}
        <input type="hidden" name="action" value="add_schedule">
        <div class="form-row">
          <div class="form-group">
            <label for="weekday">–î–µ–Ω—å –Ω–µ–¥–µ–ª–∏:</label>
            <select name="weekday" id="weekday" required>
              <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–Ω—å</option>
              {% for value, label in weekday_choices %}
                <option value="{{ value }}">{{ label }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="form-group">
            <label for="start_time">–í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞:</label>
            <input type="time" name="start_time" id="start_time" required>
          </div>
          <div class="form-group">
            <label for="end_time">–í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è:</label>
            <input type="time" name="end_time" id="end_time" required>
          </div>
          <div class="form-group">
            <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å</button>
          </div>
        </div>
      </form>
    </div>
    
    <p style="margin-top: 20px;">
      <strong>–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:</strong> –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –±—É–¥—É—â–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã–µ —Å–µ—Å—Å–∏–∏ –±—É–¥—É—Ç –ø–µ—Ä–µ—Å—á–∏—Ç–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
    </p>
  </div>
</div>
{% endblock %}
